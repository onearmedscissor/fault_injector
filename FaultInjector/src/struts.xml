<?xml version="1.0" encoding="UTF-8"?>

<!-- The core configuration file for the framework is the default (struts.xml) file
and should reside on the classpath of the webapp (generally /WEB-INF/classes). -->

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

  <!-- devMode equals debug information and reload everything for every request -->
  <constant name="struts.devMode" value="true" />
  <constant name="struts.ui.theme" value="simple" />

  <package name="faultinjector" extends="struts-default">

	<default-action-ref name="loadexperiments" />

    <action name="loadexperiments" class="faultinjector.action.LoadExperimentsAction" method="execute">
      <result name="success">/user_main.jsp</result>
    </action>
    
    <action name="showexperiment" class="faultinjector.action.ShowExperimentAction" method="execute">
      <result name="success">/experiment_details.jsp</result>
    </action>
    
    <action name="editexperiment" class="faultinjector.action.EditExperimentAction" method="execute">
      <result name="success">/edit_experiment.jsp</result>
    </action>
    
    <action name="saveexperiment" class="faultinjector.action.SaveExperimentAction" method="execute">
      <result name="success" type="redirectAction">loadexperiments</result>
      <result name="input" type="redirectAction">
      	<param name="actionName">editexperiment</param>
      	<param name="id">${id}</param>
      </result>
    </action>
    
    <action name="deleteexperiment" class="faultinjector.action.DeleteExperimentAction" method="execute">
      <result name="success" type="redirectAction">loadexperiments</result>
    </action>
    
    <action name="createexperiment1" class="faultinjector.action.CreateExperiment1Action" method="execute">
      <result name="success" type="redirectAction">loadtargets</result>
      <result name="input">/new_experiment_1.jsp</result>
    </action>
    
    <action name="loadtargets" class="faultinjector.action.LoadTargetsAction" method="execute">
      <result name="success">/new_experiment_2.jsp</result>
    </action>
    
    <action name="showtarget" class="faultinjector.action.ShowTargetAction" method="execute">
      <result name="success">/target_details.jsp</result>
    </action>
    
    <action name="edittarget" class="faultinjector.action.EditTargetAction" method="execute">
      <result name="success">/edit_target.jsp</result>
    </action>
    
    <action name="savetarget" class="faultinjector.action.SaveTargetAction" method="execute">
      <result name="success" type="redirectAction">loadtargets</result>
      <result name="input" type="redirectAction">
      	<param name="actionName">edittarget</param>
      	<param name="id">${id}</param>
      </result>
    </action>
    
    <action name="deletetarget" class="faultinjector.action.DeleteTargetAction" method="execute">
      <result name="success" type="redirectAction">loadtargets</result>
    </action>
    
    <action name="createtarget" class="faultinjector.action.CreateTargetAction" method="execute">
      <result name="success" type="redirectAction">loadtargets</result>
      <result name="input">/new_target.jsp</result>
    </action>

  </package>

</struts>